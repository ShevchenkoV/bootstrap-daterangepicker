!function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(a,i,s){t.daterangepicker=e(t,s,a,i)});else if("undefined"!=typeof exports){var a=require("moment"),i=window.jQuery;if(void 0===i)try{i=require("jquery")}catch(s){if(!i)throw new Error("jQuery dependency not found")}e(t,exports,a,i)}else t.daterangepicker=e(t,{},t.moment||moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,a,i){var s=function(t,e,s){if(this.parentEl="body",this.element=i(t),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.timeZone=a().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.compRanges={},this.compare=!1,this.compStartDate=a().startOf("day"),this.compEndDate=a().endOf("day"),this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof e||null===e)&&(e={}),e=i.extend(this.element.data(),e),"string"!=typeof e.template&&(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="calendar-table"></div></div><div class="calendar right"><div class="calendar-table"></div></div><div class="ranges"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i></div><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i></div><div class="daterangepicker_input" id="checkerSelect"><input type="checkbox" id="checker"> Compare to:</input><select id="comp_select"><option>Same period</option><option>Custom Range</option></select></div></div><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div>'),this.parentEl=i(e.parentEl&&i(e.parentEl).length?e.parentEl:this.parentEl),this.container=i(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.startDate&&(this.startDate=a(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=a(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=a(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=a(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=a(e.startDate)),"object"==typeof e.endDate&&(this.endDate=a(e.endDate)),"object"==typeof e.compStartDate&&(this.compStartDate=a(e.compStartDate)),"object"==typeof e.compEndDate&&(this.compEndDate=a(e.compEndDate)),"object"==typeof e.minDate&&(this.minDate=a(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=a(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"boolean"==typeof e.compare&&(this.compare=e.compare),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),0!=this.locale.firstDay)for(var n=this.locale.firstDay;n>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var o,r,h;if("undefined"==typeof e.startDate&&"undefined"==typeof e.endDate&&i(this.element).is("input[type=text]")){var l=i(this.element).val(),c=l.split(this.locale.separator);o=r=null,2==c.length?(o=a(c[0],this.locale.format),r=a(c[1],this.locale.format)):this.singleDatePicker&&""!==l&&(o=a(l,this.locale.format),r=a(l,this.locale.format)),null!==o&&null!==r&&(this.setStartDate(o),this.setEndDate(r))}if("string"==typeof e.timeZone||"number"==typeof e.timeZone?(this.timeZone="string"==typeof e.timeZone&&"undefined"!=typeof a.tz?-1*a.tz.zone(e.timeZone).parse(new Date):e.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=a(this.startDate).utcOffset(),"object"==typeof e.ranges){for(h in e.ranges){o="string"==typeof e.ranges[h][0]?a(e.ranges[h][0],this.locale.format):a(e.ranges[h][0]),r="string"==typeof e.ranges[h][1]?a(e.ranges[h][1],this.locale.format):a(e.ranges[h][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var d=this.maxDate;this.dateLimit&&o.clone().add(this.dateLimit).isAfter(d)&&(d=o.clone().add(this.dateLimit)),d&&r.isAfter(d)&&(r=d.clone()),this.minDate&&r.isBefore(this.minDate)||d&&o.isAfter(d)||(this.ranges[h]=[o,r])}var p='Date Range: <select id="datePredef">';for(h in this.ranges)p+="<option>"+h+"</option>";p+="<option>"+this.locale.customRangeLabel+"</option>",p+="</select>",this.container.find(".ranges select#datePredef").remove(),this.container.find(".ranges").prepend(p)}"function"==typeof s&&(this.callback=s),this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide(),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),"undefined"==typeof e.ranges&&this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.monthOrYearChanged,this)).on("click.daterangepicker",".daterangepicker_input input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("change.daterangepicker","select#datePredef",i.proxy(this.clickRange,this)).on("click.daterangepicker","select#comp_select",i.proxy(this.clickCompRange,this)).on("click.checker","input#checker",i.proxy(this.toggleChecker,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)),this.container.find(".range_inputs").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.controlChanged,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};s.prototype={constructor:s,position:{stage:1,step:1},setStartDate:function(t){"string"==typeof t&&(this.startDate=a(t,this.locale.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=a(t)),this.startDate=this.startDate.startOf("day"),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=a(t,this.locale.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=a(t)),this.endDate=this.endDate.endOf("day"),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.updateMonthsInView()},setCompStartDate:function(t){"string"==typeof t&&(this.compStartDate=a(t,this.locale.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.compStartDate=a(t)),this.compStartDate=t.startOf("day"),this.minDate&&this.compStartDate.isBefore(this.minDate)&&(this.compStartDate=this.minDate),this.maxDate&&this.compStartDate.isAfter(this.maxDate)&&(this.compStartDate=this.maxDate),this.updateMonthsInView()},setCompEndDate:function(t){"string"==typeof t&&(this.compEndDate=a(endDate,this.locale.format).utcOffset(this.timeZone)),"object"==typeof endDate&&(this.compEndDate=a(t)),this.compEndDate=t.endOf("day"),this.compEndDate.isBefore(this.compStartDate)&&(this.compEndDate=compStartDate.clone()),this.maxDate&&this.compEndDate.isAfter(this.maxDate)&&(this.compEndDate=this.maxDate),this.dateLimit&&this.compStartDate.clone().add(this.dateLimit).isBefore(this.compEndDate)&&(this.compEndDate=this.compStartDate.clone().add(this.dateLimit)),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updatePrevious:function(){var t=Math.round((this.endDate-this.startDate)/864e5);this.setCompStartDate(a(this.startDate).subtract(t,"days")),this.setCompEndDate(a(this.endDate).subtract(t,"days")),this.updateView()},updateMonthsInView:function(){if(this.endDate){if(this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.renderCalendar("left"),this.renderCalendar("right"),null!=this.endDate){var t=!0,e=0;for(var a in this.ranges){if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges select#datePredef option:selected").html();break}e++}t&&(this.chosenLabel=this.container.find(".ranges select#datePredef option").last().prop("selected",!0).html(),this.showCalendars())}},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,s=e.month.month(),n=e.month.year(),o=a([n,s]).daysInMonth(),r=a([n,s,1]),h=a([n,s,o]),l=a(r).subtract(1,"month").month(),c=a(r).subtract(1,"month").year(),d=a([c,l]).daysInMonth(),p=r.day(),e=[];e.firstDay=r,e.lastDay=h;for(var m=0;6>m;m++)e[m]=[];var f=d-p+this.locale.firstDay+1;f>d&&(f-=7),p==this.locale.firstDay&&(f=d-6);for(var u,D,g=a([c,l,f]).utcOffset(this.timeZone),m=0,u=0,D=0;42>m;m++,u++,g=a(g).add(24,"hour"))m>0&&u%7===0&&(u=0,D++),e[D][u]=g.clone(),this.minDate&&e[D][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[D][u].isBefore(this.minDate)&&"left"==t&&(e[D][u]=this.minDate.clone()),this.maxDate&&e[D][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[D][u].isAfter(this.maxDate)&&"right"==t&&(e[D][u]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var y="left"==t?this.minDate:this.startDate,v=this.maxDate,k=("left"==t?this.startDate:this.endDate,'<table class="table-condensed">');k+="<thead>",k+="<tr>",this.showWeekNumbers&&(k+="<th></th>"),k+=y&&!y.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?"<th></th>":'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';var C=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var b=e[1][1].month(),Y=e[1][1].year(),w=v&&v.year()||Y+5,x=y&&y.year()||Y-50,M=Y==x,_=Y==w,E='<select class="monthselect">',L=0;12>L;L++)E+=(!M||L>=y.month())&&(!_||L<=v.month())?"<option value='"+L+"'"+(L===b?" selected='selected'":"")+">"+this.locale.monthNames[L]+"</option>":"<option value='"+L+"'"+(L===b?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[L]+"</option>";E+="</select>";for(var S='<select class="yearselect">',O=x;w>=O;O++)S+='<option value="'+O+'"'+(O===Y?' selected="selected"':"")+">"+O+"</option>";S+="</select>",C=E+S}if(k+='<th colspan="5" class="month">'+C+"</th>",k+=v&&!v.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t?"<th></th>":'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>',k+="</tr>",k+="<tr>",this.showWeekNumbers&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.dateLimit){var B=this.startDate.clone().add(this.dateLimit).endOf("day");(!v||B.isBefore(v))&&(v=B)}for(var D=0;6>D;D++){k+="<tr>",this.showWeekNumbers&&(k+='<td class="week">'+e[D][0].week()+"</td>");for(var u=0;7>u;u++){var A=[];e[D][u].isSame(new Date,"day")&&A.push("today"),e[D][u].isoWeekday()>5&&A.push("weekend"),e[D][u].month()!=e[1][1].month()&&A.push("off"),this.minDate&&e[D][u].isBefore(this.minDate,"day")&&A.push("off","disabled"),v&&e[D][u].isAfter(v,"day")&&A.push("off","disabled"),this.isInvalidDate(e[D][u])&&A.push("off","disabled"),e[D][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&A.push("active","start-date"),null!=this.endDate&&e[D][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&A.push("active","end-date"),null!=this.endDate&&e[D][u]>this.startDate&&e[D][u]<this.endDate&&A.push("in-range"),e[D][u].format("YYYY-MM-DD")==this.compStartDate.format("YYYY-MM-DD")&&this.compare&&A.push("active-red","start-date"),null!=this.compEndDate&&e[D][u]>this.compStartDate&&e[D][u]<this.compEndDate&&this.compare&&A.push("in-range-red"),null!=this.compEndDate&&e[D][u].format("YYYY-MM-DD")==this.compEndDate.format("YYYY-MM-DD")&&this.compare&&A.push("active-red","end-date");for(var P="",I=!1,m=0;m<A.length;m++)P+=A[m]+" ","disabled"==A[m]&&(I=!0);I||(P+="available"),k+='<td class="'+P.replace(/^\s+|\s+$/g,"")+'" data-title="r'+D+"c"+u+'">'+e[D][u].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(k)},renderTimePicker:function(t){var e,a,i=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==t?(e=this.startDate.clone(),a=this.minDate):"right"==t&&(e=this.endDate?this.endDate.clone():this.startDate.clone(),a=this.startDate),html='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,n=this.timePicker24Hour?23:12,o=s;n>=o;o++){var r=o;this.timePicker24Hour||(r=e.hour()>=12?12==o?12:o+12:12==o?0:o);var h=e.clone().hour(r),l=!1;a&&h.minute(59).isBefore(a)&&(l=!0),i&&h.minute(0).isAfter(i)&&(l=!0),html+=r!=e.hour()||l?l?'<option value="'+o+'" disabled="disabled" class="disabled">'+o+"</option>":'<option value="'+o+'">'+o+"</option>":'<option value="'+o+'" selected="selected">'+o+"</option>"}html+="</select> ",html+=': <select class="minuteselect">';for(var o=0;60>o;o+=this.timePickerIncrement){var c=10>o?"0"+o:o,h=e.clone().minute(o),l=!1;a&&h.second(59).isBefore(a)&&(l=!0),i&&h.second(0).isAfter(i)&&(l=!0),html+=e.minute()!=o||l?l?'<option value="'+o+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+o+'">'+c+"</option>":'<option value="'+o+'" selected="selected">'+c+"</option>"}if(html+="</select> ",this.timePickerSeconds){html+=': <select class="secondselect">';for(var o=0;60>o;o++){var c=10>o?"0"+o:o,h=e.clone().second(o),l=!1;a&&h.isBefore(a)&&(l=!0),i&&h.isAfter(i)&&(l=!0),html+=e.second()!=o||l?l?'<option value="'+o+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+o+'">'+c+"</option>":'<option value="'+o+'" selected="selected">'+c+"</option>"}html+="</select> "}if(!this.timePicker24Hour){html+='<select class="ampmselect">';var d="",p="";a&&e.clone().hour(12).minute(0).second(0).isBefore(a)&&(d=' disabled="disabled" class="disabled"'),i&&e.clone().hour(0).minute(0).second(0).isAfter(i)&&(p=' disabled="disabled" class="disabled"'),html+=e.hour()>=12?'<option value="AM"'+d+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+d+'>AM</option><option value="PM"'+p+">PM</option>",html+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(html)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.container.find("input[name=daterangepicker_comp_start]").val(this.compStartDate.format(this.locale.format)),this.compEndDate&&this.container.find("input[name=daterangepicker_comp_end]").val(this.compEndDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var t,e={top:0,left:0},a=i(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:a-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=i.proxy(function(t){this.outsideClick(t)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel,this.compEndDate,this.compStartDate),this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")),i(document).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=i(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var a=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.locale.format))}},clickRange:function(){var t=i("select#datePredef option:selected").val();if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var e=this.ranges[t];this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.updatePrevious(),this.updateCalendars()}},clickCompRange:function(t){var e=i(t.target).val();this.chosenLabel=e,"Custom Range"==e?this.showCalendars():(this.container.find(".ranges select#comp_select option").first().prop("selected",!0).html(),this.updatePrevious())},clickPrev:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},toggleChecker:function(){if(this.compare)this.compare=!1,this.container.find(".ranges>.daterangepicker_input_comp").remove();else{var t='<div class="daterangepicker_input_comp"><input class="input-mini" type="text" name="daterangepicker_comp_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i></div><div class="daterangepicker_input_comp"><input class="input-mini" type="text" name="daterangepicker_comp_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i></div>';this.compare=!0,this.container.find(".ranges").append(t),this.updatePrevious()}},clickNext:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(i(t.target).hasClass("available")){var e=i(t.target).attr("data-title"),a=e.substr(1,1),s=e.substr(3,1),n=i(t.target).parents(".calendar"),o=n.hasClass("left")?this.leftCalendar.calendar[a][s]:this.rightCalendar.calendar[a][s];this.endDate?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format)),this.compEndDate&&this.compare?this.container.find("input[name=daterangepicker_comp_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_comp_end]").val(o.format(this.locale.format));var r=this.leftCalendar,h=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,e){if(!i(e).hasClass("week")){var a=i(e).attr("data-title"),s=a.substr(1,1),n=a.substr(3,1),c=i(e).parents(".calendar"),d=c.hasClass("left")?r.calendar[s][n]:h.calendar[s][n];d.isAfter(l)&&d.isBefore(o)?i(e).addClass("in-range"):i(e).removeClass("in-range")}})}},clickDate:function(t){var e=this;if(i(t.target).hasClass("available")){var a=i(t.target).attr("data-title"),s=a.substr(1,1),n=a.substr(3,1),o=i(t.target).parents(".calendar"),r=o.hasClass("left")?this.leftCalendar.calendar[s][n]:this.rightCalendar.calendar[s][n],h=function(){this.endDate||r.isBefore(this.startDate)?(this.endDate=null,this.position.step=1,this.setStartDate(r.clone())):(this.position.step=2,this.setEndDate(r.clone()),this.autoApply&&this.clickApply())};this.compare?1==this.position.stage&&this.position.step<=2?(h.call(e),this.position.stage=2==this.position.step?2:1):2==this.position.stage&&this.position.step<=2&&(this.compEndDate||r.isBefore(this.compStartDate)?(this.compEndDate=null,this.setCompStartDate(r.clone()),this.position.step=1):(this.setCompEndDate(r.clone()),this.position.step=2,this.position.stage=2==this.position.step?1:2,this.autoApply&&this.clickApply())):h.call(e),this.updateView()}},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=i(t.target).closest(".calendar").hasClass("left"),a=e?"left":"right",s=this.container.find(".calendar."+a),n=parseInt(s.find(".monthselect").val(),10),o=s.find(".yearselect").val();e||(o<this.startDate.year()||o==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),o=this.maxDate.year()),e?(this.leftCalendar.month.month(n).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},formInputsChanged:function(t){var e=i(t.target).closest(".calendar").hasClass("right"),s=a(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format).utcOffset(this.timeZone),n=a(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format).utcOffset(this.timeZone),o=a(this.container.find('input[name="daterangepicker_comp_start"]').val(),this.locale.format).utcOffset(this.timeZone),r=a(this.container.find('input[name="daterangepicker_comp_end"]').val(),this.locale.format).utcOffset(this.timeZone);s.isValid()&&n.isValid()&&(e&&n.isBefore(s)&&(s=n.clone()),this.setStartDate(s),this.setEndDate(n),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),o.isValid()&&r.isValid()&&(e&&r.isBefore(o)&&(o=r.clone()),this.setCompStartDate(o),this.setCompEndDate(r),e?this.container.find('input[name="daterangepicker_comp_start"]').val(this.compStartDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_comp_end"]').val(this.compEndDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},controlChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),e=null,i=null;2===t.length&&(e=a(t[0],this.locale.format).utcOffset(this.timeZone),i=a(t[1],this.locale.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(e=a(this.element.val(),this.locale.format).utcOffset(this.timeZone),i=e),this.setStartDate(e),this.setEndDate(i),this.updateView()}},keydown:function(t){(9===t.keyCode||13===t.keyCode)&&this.hide()},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},i.fn.daterangepicker=function(t,e){return this.each(function(){var a=i(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new s(a,t,e))}),this}});
